<div id="account-wrapper">
    <div id="div-block"></div>
    <div id="account-content">
        <app-auth></app-auth>
        <div *ngIf="userAuthenticated" id="account-section-container">
            <h2>Account</h2>
            <div id="user-section-container">
                <div class="account-section-header">USER INFORMATION</div>
                <div id="user-items-container">
                    <div class="account-section-item">Username: {{username}}</div>
                    <div class="account-section-item">Email: {{userEmail}}</div>
                    <div class="account-section-item">Phone: {{userPhone}}</div>
                </div>
            </div>
            <div id="plan-section-container">
                <div class="account-section-header">PLAN DETAILS</div>
                <div class="plan-section-item">
                    <div class="account-section-item">
                        <div id="plan-selected">Standard   <span id="plus-icon">PLUS</span></div>
                    </div>  
                    <div id="plan-links-container">
                        <div class="account-section-item">
                            <div class="plan-section-link" (click)="openUnavailableTextbox()">Change plan</div>
                        </div>
                        <div class="account-section-item">
                            <div class="plan-section-link" (click)="openUnavailableTextbox()">Cancel plan</div>
                        </div>
                        <div class="account-section-item" *ngIf="toggleUnavailableTextbox">
                            <div id="unavailable-feature">
                                This feature is unavailable at the moment.
                                <span (click)="closeUnavailableTextbox()">
                                    <img src="../../assets/images/close-unavailable.png" alt="close icon">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="support-section-container">
                <div class="account-section-header">SUPPORT</div>
                <div id="support-links-container">
                    <div class="account-section-item">
                        <a href="mailto:jwong_li@hotmail.com" class="support-section-link">Contact Support</a>
                    </div>
                    <div class="account-section-item">
                        <a href="mailto:jwong_li@hotmail.com" class="support-section-link">Email Inquiry</a>
                    </div>
                    <div class="account-section-item">
                        <div class="support-section-link" (click)="openTicket()">Send Ticket</div>
                    </div>
                    <div class="account-section-item ticket" *ngIf="toggleTicketSystem">                    
                        <select 
                            name="subjects" 
                            [(ngModel)]="selectedTicket" 
                            (change)="handleSelectChange()"
                        >
                            <option *ngFor="let subject of ticketItems" [ngValue]="subject">{{subject}}</option>
                        </select>
                        <textarea name="ticket-text" cols="30" rows="8" #ticketDescription></textarea>
                        <div id="ticket-buttons-container">
                            <button id="cancel-button" (click)="closeTicket()">Cancel</button>
                            <button (click)="submitTicket(ticketDescription)">Submit</button>
                        </div>
                        <div id="ticket-submission" *ngIf="isTicketSubmitted">
                            <div id="success">{{submissionSuccess}}</div>
                            <div id="failure">{{submissionFail}}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>